# Mermaid GUI 実装TODOリスト

## Phase 1: 基盤構築

### 1. プロジェクト構造のセットアップ
- [ ] srcディレクトリ構造の作成
- [ ] 基本的な型定義ファイルの作成
- [ ] テスト環境の確認とセットアップ

### 2. コアロジック実装（TDD）
- [ ] ノードのデータ構造定義とテスト
  - [ ] 基本ノード（Rectangle, Circle, Diamond）
  - [ ] Subgraphノード
  - [ ] 親子関係の管理ロジック
- [ ] エッジのデータ構造定義とテスト
  - [ ] 6種類のエッジタイプ定義
- [ ] Mermaidコードビルダーの実装
  - [ ] ノードからMermaidコードへの変換
  - [ ] エッジからMermaidコードへの変換
  - [ ] Subgraphの入れ子構造対応
- [ ] Mermaidコードパーサーの実装
  - [ ] MermaidコードからノードへのParse
  - [ ] エラーハンドリング

### 3. 状態管理（Jotai）
- [ ] ノード管理のatom実装
- [ ] エッジ管理のatom実装
- [ ] 選択状態のatom実装
- [ ] エラー状態のatom実装
- [ ] 双方向同期のロジック実装

## Phase 2: UIコンポーネント実装

### 4. メインレイアウト
- [ ] App.tsxの実装
- [ ] MainLayout.tsxの実装（3ペインレイアウト）

### 5. GUIエディタ
- [ ] React Flowの初期セットアップ
- [ ] カスタムノードコンポーネント
  - [ ] RectangleNode
  - [ ] CircleNode
  - [ ] DiamondNode
  - [ ] SubgraphNode
- [ ] カスタムエッジコンポーネント
- [ ] ツールバーの実装

### 6. コードエディタ
- [ ] コードエディタコンポーネントの実装
- [ ] シンタックスハイライト
- [ ] エラー表示機能

### 7. プロパティパネル
- [ ] プロパティパネルのレイアウト
- [ ] ノードプロパティ編集フォーム
- [ ] エッジプロパティ編集フォーム

## Phase 3: インタラクション機能

### 8. 基本操作
- [ ] ノードの追加機能
- [ ] ノードの削除機能
- [ ] ノードの移動（ドラッグ）
- [ ] エッジの接続
- [ ] エッジの削除

### 9. 高度な操作
- [ ] Subgraphへのノード追加・削除
- [ ] 複数選択
- [ ] Undo/Redo機能

### 10. エラーハンドリング
- [ ] トースト通知コンポーネント
- [ ] パースエラーの表示

## Phase 4: 最終調整

### 11. スタイリング
- [ ] Tailwind CSSでの見た目調整
- [ ] レスポンシブ対応

### 12. テストとリファクタリング
- [ ] 統合テスト
- [ ] パフォーマンス最適化
- [ ] コードクリーンアップ